<?xml version="1.0" encoding="utf-8"?>
<s:Group xmlns:fx="http://ns.adobe.com/mxml/2009" 
         xmlns:s="library://ns.adobe.com/flex/spark"
		 xmlns:mx="library://ns.adobe.com/flex/halo">
	<fx:Script>
		<![CDATA[
			import com.adobe.air.preferences.Preference;
			import com.mailbrew.events.CheckMailEvent;
			import com.mailbrew.model.ModelLocator;
			
			private function onCheckNow():void
			{
				new CheckMailEvent().dispatch();
			}

			private function onOpenSettings():void
			{
				var prefsWin:PreferencesWindow = new PreferencesWindow();
				prefsWin.open();
			}
			
			private function onOpenAbout():void
			{
				// TBD
			}
		]]>
	</fx:Script>
	<mx:Label text="MailBrew" left="5" top="2"/>
	<s:Group right="5" top="2">
		<s:layout>
			<s:HorizontalLayout/>
		</s:layout>
		<mx:Button id="checkNowButton" label="Check Now" icon="{ModelLocator.getInstance().checkNowIconClass}" click="onCheckNow();" enabled="{(ModelLocator.getInstance().accounts.length == 0) ? false : true}"/>
		<mx:Button id="settingsButton" label="Settings" icon="{ModelLocator.getInstance().configureIconClass}" click="onOpenSettings();"/>
		<mx:Button id="aboutButton" label="About" icon="{ModelLocator.getInstance().aboutIconClass}" click="onOpenAbout();"/>
	</s:Group>
</s:Group>
