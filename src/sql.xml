<sql>
    <accounts>
        <create>
            CREATE TABLE IF NOT EXISTS accounts (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                account_type TEXT NOT NULL,
                username TEXT NOT NULL,
                password TEXT NOT NULL,
                imap_server TEXT,
                port_number INT,
                secure BOOLEAN,
                notification_location TEXT NOT NULL,
                working BOOLEAN DEFAULT false NOT NULL
            );
        </create>
        <insert>
            INSERT INTO
                accounts (
                    name,
                    account_type,
                    username,
                    password,
                    imap_server,
                    port_number,
                    secure,
                    notification_location,
                    working
                )
            VALUES (
                    :name,
                    :account_type,
                    :username,
                    :password,
                    :imap_server,
                    :port_number,
                    :secure,
                    :notification_location,
                    :working
                );
        </insert>
        <update>
            UPDATE
                accounts
            SET
                name = :name,
                account_type = :account_type,
                username = :username,
                password = :password,
                imap_server = :imap_server,
                port_number = :port_number,
                secure = :secure,
                notification_location = :notification_location,
                working = :working
            WHERE
                id = :account_id;
        </update>
        <updateWorking>
            UPDATE
                feeds
            SET
                working = :working
            WHERE
                id = :account_id;
        </updateWorking>
        <selectAll>
            SELECT
                *
            FROM
                accounts
            ORDER BY
            	id ASC;
        </selectAll>   
        <selectById>
            SELECT
                *
            FROM
                accounts
            WHERE
            	id = :account_id;
        </selectById>
        <deleteById>
            DELETE FROM
                accounts
            WHERE
                id = :account_id;
        </deleteById>
    </accounts>

    <messages>
        <create>
            CREATE TABLE IF NOT EXISTS messages (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                account_id INT NOT NULL,
                unique_id TEXT NOT NULL
            );
        </create>
        <insert>
            INSERT INTO
                messages (
                    account_id,
                    unique_id 
                )
            VALUES (
                    :account_id,
                    :unique_id
                );
        </insert>
        <selectByAccountId>
        	SELECT
        		unique_id
        	FROM 
        		messages
        	WHERE
        		account_id = :account_id;
        </selectByAccountId>
        <deleteByAccountId>
            DELETE FROM
                messages
            WHERE
                account_id = :account_id;
        </deleteByAccountId>
    </messages>
</sql>
